#pragma checksum "D:\KnockputProject\KnockoutProject\KnockoutProject\KnockoutProject\Views\Hotel\BookHotel2.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "bd95cbd3d234999ff7b06313efa380a1bb5909df"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Hotel_BookHotel2), @"mvc.1.0.view", @"/Views/Hotel/BookHotel2.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\KnockputProject\KnockoutProject\KnockoutProject\KnockoutProject\Views\_ViewImports.cshtml"
using Core.Constants;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"bd95cbd3d234999ff7b06313efa380a1bb5909df", @"/Views/Hotel/BookHotel2.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"f9c643758476e6b4f1bf97edad2cba031026dc83", @"/Views/_ViewImports.cshtml")]
    public class Views_Hotel_BookHotel2 : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<ViewModels.HotelViewModel>
    {
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "D:\KnockputProject\KnockoutProject\KnockoutProject\KnockoutProject\Views\Hotel\BookHotel2.cshtml"
  
    Layout = "~/Views/Shared/_Layout.cshtml";

#line default
#line hidden
#nullable disable
            WriteLiteral("<html lang=\"en\">\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("head", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "bd95cbd3d234999ff7b06313efa380a1bb5909df3347", async() => {
                WriteLiteral(@"
    <meta charset=""UTF-8"">
    <title>
        Add Hotel
    </title>
    <script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js""></script>
    <script src=""https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js""></script>
    <script type=""text/javascript"" src=""https://cdnjs.cloudflare.com/ajax/libs/knockout/3.3.0/knockout-min.js""></script>
    <link rel=""stylesheet"" href=""https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"">

");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
<style>
    html {
        height: 100%;
    }

    body {
        height: 100%;
    }

    .global-container {
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #f5f5f5;
    }

    form {
        padding-top: 10px;
        font-size: 14px;
        margin-top: 30px;
    }

    .card-title {
        font-weight: 300;
    }

    .btn {
        font-size: 14px;
        margin-top: 20px;
    }

    .login-form {
        width: 330px;
        margin: 20px;
    }

    .sign-up {
        text-align: center;
        padding: 20px 0 0;
    }

    .alert {
        margin-bottom: -30px;
        font-size: 13px;
        margin-top: 20px;
    }
</style>
");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("body", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "bd95cbd3d234999ff7b06313efa380a1bb5909df5609", async() => {
                WriteLiteral(@"
    <div class=""pt-3"">
        <div class=""global-container"">
            <div class=""card login-form"">
                <div class=""card-body"">
                    <h3 class=""card-title text-center""> Add Hotel </h3>
                    <div class=""card-text"">
                        <form id=""hotelform"">
                            <div class=""form-group"">
                                <input type=""text"" class=""autosuggest"" id=""txtAutoComplete"" data-bind=""value:name"">
                                <input type=""hidden"" id=""HotelId"" />

                            </div>
                            <div class=""form-group"" id=""dateSelectionForBooking"" style=""display:none;"">
");
                WriteLiteral(@"                                <input type=""text"" id=""StartDate"" data-bind=""value: myStartDate()"" />to
                                <input type=""text"" id=""EndDate"" data-bind=""value: myEndDate()"" />

                                <p>
                                    start day<span data-bind=""text: myStartDate"" />
                                </p>
                                <p>
                                    end day<span data-bind=""text: myEndDate"" />
                                </p>
                            </div>
                            <div class=""form-group"" id=""btnsubmit"" style=""display:none;"">
");
                WriteLiteral(@"                                <input type=""button"" class=""btn btn-primary btn-block"" onclick=""BookHotel()"" value=""Add Booking"" />

                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
</html>


<link href=""https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css"" rel=""stylesheet"" />
<link href=""https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.css"" rel=""stylesheet"" />
<script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js""></script>
<script src=""https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js""></script>
<script src=""https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.js""></script>
<script src=""https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js""></script>


<script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js""></script>
<link href=""https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/themes/base/jquery-ui.css"" rel=""stylesheet"" type=""text/css"">
<script type=""text/javascript"" src=""https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js""></script>
<script t");
            WriteLiteral(@"ype=""text/javascript"">
    $(document).ready(function () {
        debugger;
        SearchText();
    });
    function BookHotel() {
        debugger;
        var bookViewModel = {
            name: document.getElementById(""txtAutoComplete"").value,
            myStartDate: document.getElementById(""StartDate"").value,
            myEndDate: document.getElementById(""EndDate"").value,
            
        }
        $.ajax({
            url: '/Hotel/BookHotel',
            type: 'post',
            dataType: 'json',
            data: ko.toJSON(bookViewModel), //Here the data wil be converted to JSON
            contentType: 'application/json',
            success: function (data) {
                debugger;
                if (data.isError == false)
                    window.location.href = data.redirectUrl
                        ;
                else {
                    alert(""Something went wrong"");
                }
            },
            error: function () {
              ");
            WriteLiteral(@"  debugger;
                alert(""Something went wrong"");
            }
        });
    }
    function SearchText() {
        debugger;
        $("".autosuggest"").autocomplete({
            source: function (request, response) {
                debugger;
                var value = document.getElementById('txtAutoComplete').value;
                $.ajax({
                    type: ""POST"",
                    url: ""GetHotelName"",
                    data: { Prefix: value },
                    dataType: ""json"",
                    success: function (data) {
                        debugger;
                        response($.map(data, function (item) {
                            debugger;
                            return { label: item.name, value: item.name, HotelId: item.id };
                        }))
                        //   ko.applyBindings(ViewModel);
                    },
                    error: function (result) {
                        alert(""Error"");
           ");
            WriteLiteral(@"         }
                });
            },
            select: function (e, i) {
                debugger;
                $(""#HotelId"").val(i.item.HotelId);
                var selectedHotelId = $(""#HotelId"").val();
                if (selectedHotelId != '') {
                    var div = document.getElementById(""dateSelectionForBooking"");
                    div.style.display = ""block"";

                    var submitBtn = document.getElementById(""btnsubmit"");
                    submitBtn.style.display = ""block"";
                }
            },
        });
        debugger;
        jQuery.browser = {
            msie: false,
            version: 0
        };
        ko.bindingHandlers.datePicker = {
            init: function (element, valueAccessor, allBindingsAccessor) {
                var options = { format: 'dd-mm-yyyy', weekStart: 1, autoclose: true };
                $(element).datepicker(options);
                $(element).datepicker().on('changeDate', function (e) { ");
            WriteLiteral(@"valueAccessor()(e.date); });
            },
            update: function (element, valueAccessor, allBindingsAccessor) {
                var date = ko.unwrap(valueAccessor());
                $(element).datepicker('setDate', date);
            }
        };

        debugger;
        //bookHotel = {
        //    name: ko.observable(),
        //    startDate: ko.observable(new Date()),
        //    endDate: ko.observable(new Date()),
        //    bookHotel: function () {
        //        debugger;
        //        name: this.name();
        //        startDate: bookHotel.startDate().toLocaleString();
        //        endDate: this.endDate(new Date());
        //        try {
        //            $.ajax({
        //                url: '/Hotel/BookHotel',
        //                type: 'post',
        //                dataType: 'json',
        //                data: ko.toJSON(bookHotel), //Here the data wil be converted to JSON
        //                contentType: 'applicatio");
            WriteLiteral(@"n/json',
        //                success: function (data) {
        //                    debugger;
        //                    if (data.isError == false)
        //                        window.location.href = data.redirectUrl
        //                            ;
        //                    else {
        //                        alert(""Something went wrong"");
        //                    }
        //                },
        //                error: function () {
        //                    debugger;
        //                    alert(""Something went wrong"");
        //                }
        //            });
        //        } catch (e) {
        //            alert(e);
        //        }
        //    }
        //}

        var bookHotel = function(){
            var self = this;
            self.name = ko.observable();
            self.myStartDate = ko.observable();
            self.myEndDate = ko.observable();
            self.HotelId = ko.observable();
  ");
            WriteLiteral(@"          //self.bookHotel = function () {
            //    debugger;
            //    alert(""Book hotel called"");
            //    self.HotelId = self.HotelId();
            //    self.myStartDate = self.myStartDate();
            ////    self.myStartDate = document.getElementById(""StartDate"").value;
            //}
        }
        //alert(""Binding call"" + bookHotel.name);
        ko.applyBindings(new bookHotel());

        var FromDate = new Date();
        var ToDate = new Date();

        var d = new Date();
        d.setDate(d.getDate());
        //default range
        var defRange = 30;
        // total range 1yr +/-
        var e = new Date();
        var xDate = 365;
        e.setDate(d.getDate() - xDate);
        $('#StartDate').datepicker({
            maxDate: d,
            beforeShow: function () {
                $('.ui-datepicker').css('font-size', 10);
            },
            onSelect: function (date) {
                debugger;
                var dp2 = $");
            WriteLiteral(@"('#EndDate');
                var startDate = $(this).datepicker('getDate');
                var minDate = $(this).datepicker('getDate');
                startDate.setDate(startDate.getDate() + xDate);
                $(this).change()
                //defaults to past 30 days
                dp2.datepicker('setDate', -defRange);
                dp2.change();
                minDate.setDate(minDate.getDate() - xDate);
                //set max date for start and end range
                dp2.datepicker('option', 'maxDate', startDate);
                dp2.datepicker('option', 'minDate', minDate);
                $(this).datepicker('option', 'minDate', minDate);

            }
        });

        $('#EndDate').datepicker({
            maxDate: d,
            minDate: e,
            beforeShow: function () {
                $('.ui-datepicker').css('font-size', 10);
            }
        });

        $('#StartDate').focus(function () {
            $('#StartDate').datepicker('show');
  ");
            WriteLiteral("      });\r\n\r\n        $(\'#EndDate\').focus(function () {\r\n            $(\'#EndDate\').datepicker(\'show\');\r\n        });\r\n    }\r\n</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<ViewModels.HotelViewModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
